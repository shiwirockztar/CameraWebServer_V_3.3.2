{
  "name": "ESP32 Camera - PlatformIO (Codespaces)",
  "image": "mcr.microsoft.com/devcontainers/base:debian",

  /*
    Descripción y notas:
    - La propiedad "customizations.vscode" contiene las extensiones y settings que
      Codespaces / Dev Containers aplica automáticamente.
    - JSON no soporta comentarios oficiales; por eso incluyo instrucciones en
      "description" y en el objeto "devcontainerNotes" para que puedas editar.
  */
  "description": "Contenedor para desarrollar el proyecto ESP32 Camera con PlatformIO.\nAgregar extensiones locales: ejecuta 'code --list-extensions' en tu VS Code y pega los IDs en customizations.vscode.extensions.",

  "customizations": {
    "vscode": {
      "extensions": [
        "marus25.cortex-debug",
        "ms-vscode.cpptools",
        "espressif.esp-idf-extension",
        "platformio.platformio-ide",
        "ms-python.python",
        "streetsidesoftware.code-spell-checker",
        "mhutchie.git-graph",
        "eamodio.gitlens",
        "esbenp.prettier-vscode",
        "dbaeumer.vscode-eslint",
        // Neon Vommit color theme requested by user
        "ghgofort.neon-vommit"
      ],

      // Lista completa proporcionada por el usuario (comentada para futura referencia):
      /*
      angular.ng-template
      benjaminbenais.copilot-theme
      docker.docker
      dracula-theme.theme-dracula
      endormi.2077-theme
      esbenp.prettier-vscode
      ghgofort.neon-vommit
      github.copilot
      github.copilot-chat
      github.copilot-labs
      github.remotehub
      kisstkondoros.vscode-gutter-preview
      mechatroner.rainbow-csv
      mhutchie.git-graph
      ms-azuretools.vscode-containers
      ms-azuretools.vscode-docker
      ms-dotnettools.csdevkit
      ms-dotnettools.csharp
      ms-dotnettools.vscode-dotnet-runtime
      ms-dotnettools.vscodeintellicode-csharp
      ms-vscode-remote.remote-containers
      ms-vscode.azure-repos
      ms-vscode.cmake-tools
      ms-vscode.cpptools
      ms-vscode.cpptools-extension-pack
      ms-vscode.cpptools-themes
      ms-vscode.remote-repositories
      ms-vsliveshare.vsliveshare
      pkief.material-icon-theme
      platformio.platformio-ide
      rapidapi.vscode-rapidapi-client
      rapidapi.vscode-services
      tabnine.tabnine-vscode
      usernamehw.errorlens
      */
      "settings": {
        "editor.formatOnSave": true,
        "C_Cpp.clang_format_fallbackStyle": "Google",
        "python.linting.enabled": true,
        "python.linting.pylintEnabled": true
      }
    }
  },

  "postCreateCommand": "bash -lc 'set -e && apt-get update && apt-get install -y python3-pip python3-venv build-essential git curl && python3 -m pip install -U pip && pip install platformio'",

  "forwardPorts": [80, 8080, 8000],

  // Campo adicional con notas editables (sirve como comentarios dentro del JSON)
  "devcontainerNotes": {
    "howToAddLocalExtensions": "En tu máquina local ejecuta: code --list-extensions > my-extensions.txt, luego copia los IDs en customizations.vscode.extensions",
    "aboutImage": "Puedes cambiar 'image' por una imagen más específica o usar 'build' con Dockerfile para personalizar más.",
    "captivePortalTip": "Si quieres que Codespaces abra automáticamente la página del portal cuando te conectes al AP, eso debe manejarse en el firmware del dispositivo (captuve portal / redirect endpoints)."
  },

  "remoteUser": "vscode"
}
